{% extends "layout.html" %} {% block body %}

<div class="row">
  <div class="col-md-5">
    {% with messages = get_flashed_messages() %} {% if messages %} {% for
    message in messages %}

    <div class="alert alert-success alert-dismissible fade show" role="alert">
      {{ message }}
      <button
        type="button"
        class="close"
        data-dismiss="alert"
        aria-label="Close"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    {% endfor %} {% endif %} {% endwith %}

    <div class="card card-body">
      <form action="/add_contact" method="POST">
        <div class="form-group">
          <ul>
            <li>
              <label for="name">Nombre del contacto:</label>
              <input
                type="text"
                id="name"
                name="contact_name"
                placeholder="Nombre"
                class="form-control"
              />
            </li>
            <li>
              <label for="phone">Número de teléfono:</label>
              <input
                type="tel"
                pattern="[0-9]{10}"
                id="phone"
                name="contact_phone"
                placeholder="No es obligatorio ponerlo"
                class="form-control"
              />
            </li>
            <li>
              <label for="email">Email:</label>
              <input
                type="email"
                id="email"
                name="contact_email"
                placeholder="Es opcional añadirlo"
                class="form-control"
              />
            </li>
            <li>
              <label for="address">Dirección:</label>
              <input
                type="text"
                id="address"
                name="contact_address"
                placeholder="Esto también es opcional"
                class="form-control"
              />
            </li>
            <li>
              <label for="relationship">Parentesco:</label>
              <input
                type="text"
                id="relationship"
                name="contact_relationship"
                placeholder="Tú decides si ponerlo o no"
                class="form-control"
              />
            </li>
            <li>
              <label for="pending">Pendientes:</label>
              <textarea
                id="pending"
                name="contact_pending"
                class="form-control"
              ></textarea>
            </li>
            <li>
              <button
                name="addContactButton"
                type="submit"
                class="btn btn-primary form-control"
              >
                Añadir contacto
              </button>
            </li>
          </ul>
        </div>
      </form>
    </div>
  </div>
  <div class="col-md-7">
    <table class="table table-condensed table-bordered bg-warning table-sm">
      <thead>
        <tr>
          <th colspan="7">
            <h1>Mis Contactos</h1>
          </th>
        </tr>
      </thead>
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Telefono</th>
          <th>Email</th>
          <th>Dirección</th>
          <th>Parentesco</th>
          <th>Pendientes</th>
          <th>Operaciones</th>
        </tr>
      </thead>
      <tbody>
        {% for contact in contacts %}
        <tr>
          <td>{{contact.1}}</td>
          <td>{{contact.2}}</td>
          <td>{{contact.3}}</td>
          <td>{{contact.4}}</td>
          <td>{{contact.6}}</td>
          <td>{{contact.5}}</td>
          <td>
            <a href="/edit/{{contact.0}}" class="btn btn-info">Editar</a>
            <a
              href="/delete_contact/{{contact.0}}"
              class="btn btn-danger btn-delete"
              >Eliminar</a
            >
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}
